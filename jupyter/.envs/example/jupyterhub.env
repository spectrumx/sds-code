# JupyterHub Production Environment Configuration
# Copy this file to jupyterhub.env and configure for your production environment

# =============================================================================
# COMPLETION CHECKLIST
# =============================================================================
# 1. Generate a secure cookie secret, paste it in JUPYTERHUB_CRYPT_KEY below:
#    python3 -c "import secrets; print(secrets.token_hex(32))"
#
# 2. Configure the Auth0 application if you're using one:
#    - Set callback URL to: https://example.com/notebook/hub/oauth_callback
#    - Enable OAuth 2.0
#    - Configure allowed origins
#
# 3. Restrict user access by setting JUPYTERHUB_ALLOWED_USERS and JUPYTERHUB_ADMIN_USERS
#    - Use email addresses from your Auth0 user database

# =============================================================================
# AUTH0 OAUTH CONFIGURATION
# =============================================================================
# Get these values from your Auth0 dashboard or django.env, if sharing with SDS
# AUTH0_DOMAIN=your-domain.auth0.com
# AUTH0_CLIENT_ID=your_client_id_here
# AUTH0_CLIENT_SECRET=your_client_secret_here

# =============================================================================
# JUPYTERHUB CONFIGURATION
# =============================================================================
# JupyterHub host URL (must match Auth0 callback URL)
JUPYTERHUB_HOST=localhost:8888/notebook
# JUPYTERHUB_HOST=example.com/notebook

# Base URL path (useful when jupyter is sharing the subdomain with other services)
# JUPYTERHUB_BASE_URL=/notebook

# Cookie secret for session management (generate a secure random string)
# generate one with e.g. `openssl rand -hex 32`
JUPYTERHUB_CRYPT_KEY=your_64_character_hex_secret_here

# =============================================================================
# USER ACCESS CONTROL
# =============================================================================
# Option 1: Allow specific users (emails)
# Comma-separated list of allowed users
JUPYTERHUB_ALLOWED_USERS=user1@example.com, user2@example.com, user3@example.com

# Option 2: Allow users by Auth0 groups (recommended for large organizations)
# Comma-separated list of allowed groups
# JUPYTERHUB_ALLOWED_GROUPS=jupyter-users,data-scientists,researchers

# Comma-separated list of admin users (emails)
JUPYTERHUB_ADMIN_USERS=admin@example.com, admin2@example.com

# Note: If both ALLOWED_USERS and ALLOWED_GROUPS are empty,
# all Auth0 users will be allowed (NOT recommended for production)

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# User configuration for containers
# IMPORTANT: These IDs must match the host system user/group IDs with the following commands:
# $     id -u
NB_UID=1000
# $     id -g
NB_GID=100
# $     cut -d: -f1,3 /etc/group | grep '^docker:\d+$' | cut -d: -f2
DOCKER_GID=999

# Docker network and image configuration
DOCKER_NETWORK_NAME=sds-jupyter-local-net-clients
DOCKER_NOTEBOOK_IMAGE=quay.io/jupyter/base-notebook:latest
DOCKER_NOTEBOOK_DIR=/home/jovyan/work
